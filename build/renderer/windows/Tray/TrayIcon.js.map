{"version":3,"sources":["../../../../app/renderer/windows/Tray/TrayIcon.js"],"names":["path","require","Tray","ipcRenderer","TrayIcon","constructor","trayWindow","mainWindow","iconPath","is","windows","join","__dirname","macOS","trayIcon","setToolTip","on","e","bounds","isVisible","hide","setPosition","x","width","y","height","setAlwaysOnTop","show","updateTitle","title","setTitle","module","exports"],"mappings":";;AAGA;;;;;;AAHA,MAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,MAAM,EAAEC,IAAF,KAAWD,QAAQ,UAAR,CAAjB;AACA,MAAM,EAAEE,WAAF,KAAkBF,QAAQ,UAAR,CAAxB;IAGMG,Q,GAAN,MAAMA,QAAN,CAAe;AACbC,cAAYC,UAAZ,EAAwBC,UAAxB,EAAoC;;AAElC,QAAIC,QAAJ;AACA,QAAGC,qBAAGC,OAAH,EAAH,EAAiB;AACfF,iBAAWR,KAAKW,IAAL,CAAUC,SAAV,EAAqB,uCAArB,CAAX;AACD,KAFD,MAEM,IAAGH,qBAAGI,KAAN,EAAa;AACjBL,iBAAW,YAAYR,KAAKW,IAAL,CAAUC,SAAV,EAAqB,oCAArB,CAAvB;AACD,KAFK,MAEA;AACJJ,iBAAWR,KAAKW,IAAL,CAAUC,SAAV,EAAqB,uCAArB,CAAX;AACD;;AAED,SAAKE,QAAL,GAAgB,IAAIZ,IAAJ,CAASM,QAAT,CAAhB;AACA,SAAKM,QAAL,CAAcC,UAAd,CAAyB,iBAAzB;;AAEA,SAAKD,QAAL,CAAcE,EAAd,CAAiB,aAAjB,EAAgC,CAACC,CAAD,EAAIC,MAAJ,KAAe;AAC7C,UAAKZ,WAAWa,SAAX,EAAL,EAA8B;AAC5Bb,mBAAWc,IAAX;AACD,OAFD,MAEO;AACLd,mBAAWe,WAAX,CAAuBH,OAAOI,CAAP,GAAW,GAAX,GAAiBJ,OAAOK,KAAP,GAAe,CAAvD,EAA0DL,OAAOM,CAAP,GAAW,GAAX,GAAiBN,OAAOO,MAAlF;AACAnB,mBAAWoB,cAAX,CAA0B,IAA1B;AACApB,mBAAWqB,IAAX;AACD;AACF,KARD;;AAUA,SAAKb,QAAL,CAAcE,EAAd,CAAiB,OAAjB,EAA2BC,CAAD,IAAO;AAC/BV,iBAAWoB,IAAX;AACA;AACA;AACA;AACArB,iBAAWc,IAAX;AACD,KAND;AAQD;;AAEDQ,cAAYC,KAAZ,EAAmB;AACjB,SAAKf,QAAL,CAAcgB,QAAd,CAAuBD,KAAvB;AACD;AArCY,C;;;AAwCfE,OAAOC,OAAP,GAAiB5B,QAAjB","file":"TrayIcon.js","sourcesContent":["const path = require('path');\nconst { Tray } = require('electron');\nconst { ipcRenderer } = require('electron');\nimport is from 'electron-is'\n\nclass TrayIcon {\n  constructor(trayWindow, mainWindow) {\n\n    let iconPath;\n    if(is.windows()) {\n      iconPath = path.join(__dirname, '../../public/icons/Win-Taskbar@1x.png');\n    }else if(is.macOS) {\n      iconPath = \"file://\" + path.join(__dirname, '../../public/icons/Mac-Menubar.png');\n    }else {\n      iconPath = path.join(__dirname, '../../public/icons/Win-Taskbar@1x.png');\n    }\n\n    this.trayIcon = new Tray(iconPath);\n    this.trayIcon.setToolTip('Electron Alchmy');\n\n    this.trayIcon.on('right-click', (e, bounds) => {\n      if ( trayWindow.isVisible() ) {\n        trayWindow.hide();\n      } else {\n        trayWindow.setPosition(bounds.x - 210 + bounds.width / 2, bounds.y - 109 + bounds.height);\n        trayWindow.setAlwaysOnTop(true);\n        trayWindow.show();\n      }\n    });\n\n    this.trayIcon.on('click', (e) => {\n      mainWindow.show();\n      // ***** mac *****\n      // app.dock.show();\n      // ***** windwos *****\n      trayWindow.hide();\n    });\n\n  }\n\n  updateTitle(title) {\n    this.trayIcon.setTitle(title)\n  }\n}\n\nmodule.exports = TrayIcon;\n"]}