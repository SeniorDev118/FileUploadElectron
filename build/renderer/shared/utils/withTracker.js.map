{"version":3,"sources":["../../../../app/renderer/shared/utils/withTracker.js"],"names":["withTracker","WrappedComponent","options","trackPage","page","ReactGA","set","pageview","HOC","Component","componentDidMount","global","PRODUCTION","props","location","pathname","componentWillReceiveProps","nextProps","currentPage","nextPage","render","propTypes","PropTypes","shape","string","isRequired"],"mappings":";;;;;;;;;;kBAIwBA,W;;AAJxB;;;;AACA;;;;AACA;;;;;;AAEe,SAASA,WAAT,CAAqBC,gBAArB,EAAuCC,UAAU,EAAjD,EAAqD;AAClE,QAAMC,YAAaC,IAAD,IAAU;AAC1BC,sBAAQC,GAAR;AACEF;AADF,OAEKF,OAFL;AAIAG,sBAAQE,QAAR,CAAiBH,IAAjB;AACD,GAND;;AAQA,QAAMI,MAAM,cAAcC,gBAAd,CAAwB;AAClCC,wBAAoB;AAClB;AACA,UAAIC,OAAOC,UAAX,EAAuB;AACrB,cAAMR,OAAO,KAAKS,KAAL,CAAWC,QAAX,CAAoBC,QAAjC;AACAZ,kBAAUC,IAAV;AACD;AACF;;AAEDY,8BAA0BC,SAA1B,EAAqC;AACnC;AACA,UAAIN,OAAOC,UAAX,EAAuB;AACrB,cAAMM,cAAc,KAAKL,KAAL,CAAWC,QAAX,CAAoBC,QAAxC;AACA,cAAMI,WAAWF,UAAUH,QAAV,CAAmBC,QAApC;;AAEA,YAAIG,gBAAgBC,QAApB,EAA8B;AAC5BhB,oBAAUgB,QAAV;AACD;AACF;AACF;;AAEDC,aAAS;AACP,aAAO,8BAAC,gBAAD,EAAsB,KAAKP,KAA3B,CAAP;AACD;AAvBiC,GAApC;;AA0BAL,MAAIa,SAAJ,GAAgB;AACdP,cAAUQ,oBAAUC,KAAV,CAAgB;AACxBR,gBAAUO,oBAAUE,MAAV,CAAiBC;AADH,KAAhB,EAEPA;AAHW,GAAhB;;AAMA,SAAOjB,GAAP;AACD","file":"withTracker.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport ReactGA from 'react-ga'\n\nexport default function withTracker(WrappedComponent, options = {}) {\n  const trackPage = (page) => {\n    ReactGA.set({\n      page,\n      ...options\n    })\n    ReactGA.pageview(page)\n  }\n\n  const HOC = class extends Component {\n    componentDidMount() {\n      /* global PRODUCTION */\n      if (global.PRODUCTION) {\n        const page = this.props.location.pathname\n        trackPage(page)\n      }\n    }\n\n    componentWillReceiveProps(nextProps) {\n      /* global PRODUCTION */\n      if (global.PRODUCTION) {\n        const currentPage = this.props.location.pathname\n        const nextPage = nextProps.location.pathname\n\n        if (currentPage !== nextPage) {\n          trackPage(nextPage)\n        }\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />\n    }\n  }\n\n  HOC.propTypes = {\n    location: PropTypes.shape({\n      pathname: PropTypes.string.isRequired\n    }).isRequired\n  }\n\n  return HOC\n}\n"]}